require 'curb'

# url = "http://en.parkopedia.com/parking/brooklyn/"

urls = ["http://en.parkopedia.com/parking/abbeville_al_us", "http://en.parkopedia.com/parking/abbeville_al", "http://en.parkopedia.com/parking/garage_abbeville_alabama_us", "http://en.parkopedia.com/parking/garage_abbeville_al_us", "http://en.parkopedia.com/parking/attraction_abbeville_alabama_us", "http://en.parkopedia.com/parking/attraction_abbeville_al_us", "http://en.parkopedia.com/parking/school_abbeville_alabama_us", "http://en.parkopedia.com/parking/school_abbeville_al_us", "http://en.parkopedia.com/parking/private_abbeville_alabama_us", "http://en.parkopedia.com/parking/private_abbeville_al_us", "http://en.parkopedia.com/parking/underground_abbeville_alabama_us", "http://en.parkopedia.com/parking/underground_abbeville_al_us", "http://en.parkopedia.com/parking/shopping-center_abbeville_alabama_us", "http://en.parkopedia.com/parking/shopping-center_abbeville_al_us", "http://en.parkopedia.com/parking/beach_abbeville_alabama_us", "http://en.parkopedia.com/parking/beach_abbeville_al_us", "http://en.parkopedia.com/parking/building_abbeville_alabama_us", "http://en.parkopedia.com/parking/building_abbeville_al_us", "http://en.parkopedia.com/parking/meter_abbeville_alabama_us", "http://en.parkopedia.com/parking/meter_abbeville_al_us", "http://en.parkopedia.com/parking/abernant_al_us", "http://en.parkopedia.com/parking/abernant_al", "http://en.parkopedia.com/parking/garage_abernant_alabama_us", "http://en.parkopedia.com/parking/garage_abernant_al_us", "http://en.parkopedia.com/parking/attraction_abernant_alabama_us", "http://en.parkopedia.com/parking/attraction_abernant_al_us", "http://en.parkopedia.com/parking/school_abernant_alabama_us", "http://en.parkopedia.com/parking/school_abernant_al_us", "http://en.parkopedia.com/parking/private_abernant_alabama_us", "http://en.parkopedia.com/parking/private_abernant_al_us", "http://en.parkopedia.com/parking/underground_abernant_alabama_us", "http://en.parkopedia.com/parking/underground_abernant_al_us", "http://en.parkopedia.com/parking/shopping-center_abernant_alabama_us", "http://en.parkopedia.com/parking/shopping-center_abernant_al_us", "http://en.parkopedia.com/parking/beach_abernant_alabama_us", "http://en.parkopedia.com/parking/beach_abernant_al_us", "http://en.parkopedia.com/parking/building_abernant_alabama_us", "http://en.parkopedia.com/parking/building_abernant_al_us", "http://en.parkopedia.com/parking/meter_abernant_alabama_us", "http://en.parkopedia.com/parking/meter_abernant_al_us", "http://en.parkopedia.com/parking/adamsville_al_us", "http://en.parkopedia.com/parking/adamsville_al", "http://en.parkopedia.com/parking/garage_adamsville_alabama_us", "http://en.parkopedia.com/parking/garage_adamsville_al_us", "http://en.parkopedia.com/parking/attraction_adamsville_alabama_us", "http://en.parkopedia.com/parking/attraction_adamsville_al_us", "http://en.parkopedia.com/parking/school_adamsville_alabama_us", "http://en.parkopedia.com/parking/school_adamsville_al_us", "http://en.parkopedia.com/parking/private_adamsville_alabama_us", "http://en.parkopedia.com/parking/private_adamsville_al_us", "http://en.parkopedia.com/parking/underground_adamsville_alabama_us", "http://en.parkopedia.com/parking/underground_adamsville_al_us", "http://en.parkopedia.com/parking/shopping-center_adamsville_alabama_us", "http://en.parkopedia.com/parking/shopping-center_adamsville_al_us", "http://en.parkopedia.com/parking/beach_adamsville_alabama_us", "http://en.parkopedia.com/parking/beach_adamsville_al_us", "http://en.parkopedia.com/parking/building_adamsville_alabama_us", "http://en.parkopedia.com/parking/building_adamsville_al_us", "http://en.parkopedia.com/parking/meter_adamsville_alabama_us", "http://en.parkopedia.com/parking/meter_adamsville_al_us", "http://en.parkopedia.com/parking/addison_al_us", "http://en.parkopedia.com/parking/addison_al", "http://en.parkopedia.com/parking/garage_addison_alabama_us", "http://en.parkopedia.com/parking/garage_addison_al_us", "http://en.parkopedia.com/parking/attraction_addison_alabama_us", "http://en.parkopedia.com/parking/attraction_addison_al_us", "http://en.parkopedia.com/parking/school_addison_alabama_us", "http://en.parkopedia.com/parking/school_addison_al_us", "http://en.parkopedia.com/parking/private_addison_alabama_us", "http://en.parkopedia.com/parking/private_addison_al_us", "http://en.parkopedia.com/parking/underground_addison_alabama_us", "http://en.parkopedia.com/parking/underground_addison_al_us", "http://en.parkopedia.com/parking/shopping-center_addison_alabama_us", "http://en.parkopedia.com/parking/shopping-center_addison_al_us", "http://en.parkopedia.com/parking/beach_addison_alabama_us", "http://en.parkopedia.com/parking/beach_addison_al_us", "http://en.parkopedia.com/parking/building_addison_alabama_us", "http://en.parkopedia.com/parking/building_addison_al_us", "http://en.parkopedia.com/parking/meter_addison_alabama_us", "http://en.parkopedia.com/parking/meter_addison_al_us", "http://en.parkopedia.com/parking/adger_al_us", "http://en.parkopedia.com/parking/adger_al", "http://en.parkopedia.com/parking/garage_adger_alabama_us", "http://en.parkopedia.com/parking/garage_adger_al_us", "http://en.parkopedia.com/parking/attraction_adger_alabama_us", "http://en.parkopedia.com/parking/attraction_adger_al_us", "http://en.parkopedia.com/parking/school_adger_alabama_us", "http://en.parkopedia.com/parking/school_adger_al_us", "http://en.parkopedia.com/parking/private_adger_alabama_us", "http://en.parkopedia.com/parking/private_adger_al_us", "http://en.parkopedia.com/parking/underground_adger_alabama_us", "http://en.parkopedia.com/parking/underground_adger_al_us", "http://en.parkopedia.com/parking/shopping-center_adger_alabama_us", "http://en.parkopedia.com/parking/shopping-center_adger_al_us", "http://en.parkopedia.com/parking/beach_adger_alabama_us", "http://en.parkopedia.com/parking/beach_adger_al_us", "http://en.parkopedia.com/parking/building_adger_alabama_us", "http://en.parkopedia.com/parking/building_adger_al_us", "http://en.parkopedia.com/parking/meter_adger_alabama_us", "http://en.parkopedia.com/parking/meter_adger_al_us"]

proxy = "proxy.crawlera.com:8010"
proxy_auth = "6bb531674e034b3cb935cf4620a10b82:"

urls.each_with_index do |url, index|
  puts "-------------------------------#{(index + 1)}-------------------------------"
  c = Curl::Easy.new(url) do |curl|
    curl.headers["X-Crawlera-Use-HTTPS"] = 1
    curl.proxypwd = proxy_auth
    curl.proxy_url = proxy
    curl.verbose = true
  end
  c.perform
  puts c.body_str
  (3..6).to_a.sample
end